# π¥ Isaac Sim 5.0 μ„Όμ„ λ°μ΄ν„° ν†µν•© κ³„νμ„
> **RoArm MCP ν”„λ΅μ νΈ 3λ‹¨κ³„: μ„Όμ„ λ°μ΄ν„° ν†µν•©**  
> μ‘μ„±μΌ: 2025-10-02  
> ν„μ¬ λ‹¨κ³„: MCP μ„λ²„ κµ¬μ¶• μ™„λ£ β†’ μ„Όμ„ λ°μ΄ν„° ν†µν•© μ‹μ‘

---

## π“‹ **ν„μ¬ μƒν™© μ”μ•½**

### β… **μ™„λ£λ μ‘μ—…**
1. **Isaac Sim 5.0 PhysX Tensors API ν†µν•©** β…
   - μ™„μ„±λ μ†”λ£¨μ…: `isaac_sim_integration/solutions/isaac_sim_physx_tensors_solution.py`
   - UR10, Franka λ΅λ΄‡ λ¨λΈ λ΅λ”© λ° μ μ–΄ μ„±κ³µ

2. **MCP μ„λ²„-ν΄λΌμ΄μ–ΈνΈ κµ¬μ΅° κµ¬ν„** β…
   - Isaac Sim MCP ν•Έλ“¤λ¬: `mcp/isaac_sim_handler.py`
   - μ„λ²„ μ¤ν¬λ¦½νΈ: `examples/run_isaac_sim_server.py`
   - ν΄λΌμ΄μ–ΈνΈ: `examples/isaac_sim_client.py`
   - μ•μ •μ„± ν…μ¤νΈ ν†µκ³Ό

3. **WebSocket κΈ°λ° μ‹¤μ‹κ°„ ν†µμ‹ ** β…
   - ν¬νΈ 8765μ—μ„ μ•μ •μ μΈ MCP μ„λ²„ μ΄μ
   - λ‹¤μ–‘ν• μ—λ¬ μ‹λ‚λ¦¬μ¤ μ²λ¦¬ ν™•μΈ
   - μ¥μ‹κ°„ μ—°κ²° μ•μ •μ„± κ²€μ¦

### π― **λ‹¤μ λ©ν‘: μ„Όμ„ λ°μ΄ν„° ν†µν•©**

---

## π”§ **μ„Όμ„ λ°μ΄ν„° ν†µν•© μ•„ν‚¤ν…μ²**

### **1. Isaac Sim 5.0 μ„Όμ„ API ν™μ©**
```
Isaac Sim 5.0 μ„Όμ„ μ‹μ¤ν…:
β”β”€β”€ μΉ΄λ©”λΌ μ„Όμ„ (isaacsim.sensors.camera)
β”‚   β”β”€β”€ RGB μΉ΄λ©”λΌ
β”‚   β”β”€β”€ κΉμ΄ μΉ΄λ©”λΌ (Depth)
β”‚   β”β”€β”€ μ„Έκ·Έλ©ν…μ΄μ… μΉ΄λ©”λΌ
β”‚   β””β”€β”€ μ¤ν…λ μ¤ μΉ΄λ©”λΌ
β”β”€β”€ LiDAR μ„Όμ„ (isaacsim.sensors.rtx)
β”‚   β”β”€β”€ RTX LiDAR (μ‹¤μ‹κ°„ λ μ΄νΈλ μ΄μ‹±)
β”‚   β”β”€β”€ νμ „μ‹ LiDAR (PhysX)
β”‚   β””β”€β”€ μ†”λ¦¬λ“μ¤ν…μ΄νΈ LiDAR
β””β”€β”€ λ¬Όλ¦¬ μ„Όμ„ (isaacsim.sensors.physics)
    β”β”€β”€ IMU μ„Όμ„
    β”β”€β”€ μ ‘μ΄‰ μ„Όμ„
    β””β”€β”€ ν/ν† ν¬ μ„Όμ„
```

### **2. MCP μ„Όμ„ λ°μ΄ν„° ν”λ΅μ°**
```
μ„Όμ„ λ°μ΄ν„° β†’ Isaac Sim Sensors API β†’ MCP Handler β†’ WebSocket β†’ ν΄λΌμ΄μ–ΈνΈ
     β†“              β†“                    β†“             β†“           β†“
 RGB/Depth     μ„Όμ„ λ·° μƒμ„±        λ°μ΄ν„° μ§λ ¬ν™”    JSON μ „μ†΅    μ‹κ°ν™”/λ¶„μ„
 Point Cloud   -> get_data()      -> numpy/base64  -> μ‹¤μ‹κ°„    -> μ μ–΄ ν”Όλ“λ°±
 IMU Data      -> λ™κΈ°ν™”          -> μ••μ¶• μµμ ν™”   -> μ•μ •μ„±    -> μμ‚¬κ²°μ •
```

---

## π“… **λ‹¨κ³„λ³„ κµ¬ν„ κ³„ν**

### **Phase 3.1: μΉ΄λ©”λΌ μ„Όμ„ ν†µν•© (1μ£Όμ°¨)**

#### **3.1.1 μΉ΄λ©”λΌ μ„Όμ„ κµ¬ν„**
- [ ] **RGB μΉ΄λ©”λΌ ν†µν•©**
  - Isaac Sim Camera API ν™μ©
  - μ‹¤μ‹κ°„ μ΄λ―Έμ§€ μΊ΅μ² λ° μ „μ†΅
  - ν•΄μƒλ„ λ° ν”„λ μ„λ μ΄νΈ μµμ ν™”

- [ ] **Depth μΉ΄λ©”λΌ κµ¬ν„**
  - κΉμ΄ μ •λ³΄ μμ§‘ λ° μ²λ¦¬
  - Point Cloud μƒμ„±
  - κ±°λ¦¬ μΈ΅μ • λ° μ¥μ• λ¬Ό κ°μ§€

#### **3.1.2 λ°μ΄ν„° μ „μ†΅ μµμ ν™”**
- [ ] **μ΄λ―Έμ§€ μ••μ¶• λ° μ§λ ¬ν™”**
  - JPEG/PNG μ••μ¶• μ μ©
  - Base64 μΈμ½”λ”©μΌλ΅ WebSocket μ „μ†΅
  - ν”„λ μ„ λ“λ΅­ λ°©μ§€ λ©”μ»¤λ‹μ¦

- [ ] **μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°**
  - λΉ„λ™κΈ° λ°μ΄ν„° μ „μ†΅
  - λ²„νΌλ§ λ° ν κ΄€λ¦¬
  - ν΄λΌμ΄μ–ΈνΈλ³„ ν’μ§ μ΅°μ 

### **Phase 3.2: LiDAR μ„Όμ„ ν†µν•© (2μ£Όμ°¨)**

#### **3.2.1 RTX LiDAR κµ¬ν„**
- [ ] **μ‹¤μ‹κ°„ λ μ΄νΈλ μ΄μ‹± LiDAR**
  - Isaac Sim RTX LiDAR μ„¤μ •
  - Point Cloud λ°μ΄ν„° μμ§‘
  - 3D ν™κ²½ λ§¤ν•‘

- [ ] **Point Cloud μ²λ¦¬**
  - 3D ν¬μΈνΈ λ°μ΄ν„° ν•„ν„°λ§
  - κ±°λ¦¬ λ° κ°λ„ μ •λ³΄ μ¶”μ¶
  - μ‹¤μ‹κ°„ μ²λ¦¬ μ„±λ¥ μµμ ν™”

#### **3.2.2 λ‹¤μ¤‘ μ„Όμ„ μµν•©**
- [ ] **μΉ΄λ©”λΌ-LiDAR μµν•©**
  - μ„Όμ„ λ°μ΄ν„° μ‹κ°„ λ™κΈ°ν™”
  - μΆν‘κ³„ λ³€ν™ λ° μΉΌλ¦¬λΈλ μ΄μ…
  - μµν•© λ°μ΄ν„° ν’μ§ ν–¥μƒ

### **Phase 3.3: κ³ κΈ‰ μ„Όμ„ κΈ°λ¥ (3μ£Όμ°¨)**

#### **3.3.1 IMU λ° λ¬Όλ¦¬ μ„Όμ„**
- [ ] **IMU μ„Όμ„ ν†µν•©**
  - κ°€μ†λ„κ³„, μμ΄λ΅μ¤μ½”ν”„ λ°μ΄ν„°
  - λ΅λ΄‡ μμ„Έ λ° μ›€μ§μ„ μ¶”μ 
  - μΉΌλ§ ν•„ν„°λ§ μ μ©

- [ ] **μ ‘μ΄‰ λ° ν μ„Όμ„**
  - λ΅λ΄‡-ν™κ²½ μƒνΈμ‘μ© κ°μ§€
  - ν/ν† ν¬ ν”Όλ“λ°± μμ§‘
  - μ•μ „ μ μ–΄ λ©”μ»¤λ‹μ¦

#### **3.3.2 μ„Όμ„ λ°μ΄ν„° λ¶„μ„**
- [ ] **μ‹¤μ‹κ°„ λ°μ΄ν„° μ²λ¦¬**
  - λ…Έμ΄μ¦ ν•„ν„°λ§ λ° μ¤λ¬΄λ”©
  - μ΄μƒμΉ νƒμ§€ λ° μ κ±°
  - ν†µκ³„μ  λ¶„μ„ λ° νΈλ λ“ μ¶”μ 

---

## π› οΈ **κΈ°μ μ  κµ¬ν„ μ„Έλ¶€μ‚¬ν•­**

### **1. Isaac Sim μ„Όμ„ API ν™μ©**
```python
# μΉ΄λ©”λΌ μ„Όμ„ μ„¤μ • μμ‹
from isaacsim.sensors.camera import Camera
from omni.isaac.core.utils.prims import create_prim

# RGB μΉ΄λ©”λΌ μƒμ„±
camera = Camera(
    prim_path="/World/Camera",
    position=np.array([2.0, 2.0, 2.0]),
    target=np.array([0.0, 0.0, 0.0]),
    resolution=(1280, 720),
    frequency=30  # 30 FPS
)

# μ΄λ―Έμ§€ λ°μ΄ν„° μμ§‘
rgb_data = camera.get_rgba()[:, :, :3]  # RGB only
```

### **2. MCP μ„Όμ„ λ°μ΄ν„° ν•Έλ“¤λ¬**
```python
class SensorDataHandler:
    def __init__(self):
        self.cameras = {}
        self.lidars = {}
        self.imus = {}
    
    async def collect_sensor_data(self):
        """λ¨λ“  μ„Όμ„ λ°μ΄ν„° μμ§‘"""
        data = {
            "timestamp": time.time(),
            "cameras": await self.collect_camera_data(),
            "lidars": await self.collect_lidar_data(),
            "imus": await self.collect_imu_data()
        }
        return data
    
    async def stream_to_clients(self, data):
        """μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°"""
        compressed_data = self.compress_data(data)
        await self.broadcast_to_clients(compressed_data)
```

### **3. λ°μ΄ν„° μ••μ¶• λ° μ „μ†΅**
```python
import cv2
import base64
import json

def compress_image(image_array):
    """μ΄λ―Έμ§€ μ••μ¶• λ° μΈμ½”λ”©"""
    # JPEG μ••μ¶•
    _, buffer = cv2.imencode('.jpg', image_array, 
                           [cv2.IMWRITE_JPEG_QUALITY, 85])
    # Base64 μΈμ½”λ”©
    encoded_image = base64.b64encode(buffer).decode('utf-8')
    return encoded_image

def compress_point_cloud(points):
    """Point Cloud μ••μ¶•"""
    # ν•„μ”ν• ν¬μΈνΈλ§ ν•„ν„°λ§
    filtered_points = filter_by_distance(points, max_distance=10.0)
    # μ••μ¶• μ•κ³ λ¦¬μ¦ μ μ©
    compressed = compress_array(filtered_points)
    return compressed
```

---

## π“ **μ„±λ¥ μµμ ν™” μ „λµ**

### **1. λ°μ΄ν„° μ „μ†΅ μµμ ν™”**
- **μ΄λ―Έμ§€ ν’μ§ μ΅°μ **: ν΄λΌμ΄μ–ΈνΈλ³„ ν•΄μƒλ„ λ° μ••μ¶• μ„¤μ •
- **ν”„λ μ„ λ μ΄νΈ μ΅°μ **: λ„¤νΈμ›ν¬ μƒν™©μ— λ”°λ¥Έ λ™μ  FPS μ΅°μ 
- **μ„ νƒμ  μ „μ†΅**: κ΄€μ‹¬ μμ—­(ROI) κΈ°λ° λ°μ΄ν„° μ „μ†΅
- **μ••μ¶• μ•κ³ λ¦¬μ¦**: μ‹¤μ‹κ°„μ„±μ„ κ³ λ ¤ν• μ••μ¶• λ°©μ‹ μ„ νƒ

### **2. λ©”λ¨λ¦¬ λ° CPU μµμ ν™”**
- **λ²„νΌ ν’€λ§**: λ©”λ¨λ¦¬ μ¬μ‚¬μ©μ„ ν†µν• GC λ¶€λ‹΄ κ°μ†
- **λ©€ν‹°μ¤λ λ”©**: μ„Όμ„ λ°μ΄ν„° μμ§‘κ³Ό μ „μ†΅ λ¶„λ¦¬
- **λ°°μΉ μ²λ¦¬**: μ—¬λ¬ μ„Όμ„ λ°μ΄ν„° λ™μ‹ μ²λ¦¬
- **μΊμ‹± μ „λµ**: μμ£Ό μ‚¬μ©λλ” λ°μ΄ν„° μΊμ‹±

### **3. λ„¤νΈμ›ν¬ μµμ ν™”**
- **μ••μ¶• μ „μ†΅**: gzip, zlib λ“± μ‹¤μ‹κ°„ μ••μ¶•
- **λΈνƒ€ μ••μ¶•**: μ΄μ „ ν”„λ μ„κ³Όμ μ°¨μ΄λ§ μ „μ†΅
- **QoS μ μ–΄**: μ¤‘μ”λ„μ— λ”°λ¥Έ μ°μ„ μμ„ μ „μ†΅
- **μ—°κ²° ν’€λ§**: μ¬μ‚¬μ© κ°€λ¥ν• μ—°κ²° κ΄€λ¦¬

---

## π§ **ν…μ¤νΈ λ° κ²€μ¦ κ³„ν**

### **1. λ‹¨μ„ ν…μ¤νΈ**
- [ ] **μ„Όμ„λ³„ λ°μ΄ν„° μμ§‘ ν…μ¤νΈ**
- [ ] **λ°μ΄ν„° μ••μ¶•/ν•΄μ  μ •ν™•μ„± ν…μ¤νΈ**
- [ ] **WebSocket μ „μ†΅ μ•μ •μ„± ν…μ¤νΈ**
- [ ] **μ‹¤μ‹κ°„ μ„±λ¥ λ²¤μΉλ§ν¬**

### **2. ν†µν•© ν…μ¤νΈ**
- [ ] **λ‹¤μ¤‘ μ„Όμ„ λ™μ‹ μ‘λ™ ν…μ¤νΈ**
- [ ] **μ„Όμ„ λ°μ΄ν„° μ‹κ°„ λ™κΈ°ν™” ν…μ¤νΈ**
- [ ] **λ€μ©λ‰ λ°μ΄ν„° μ „μ†΅ μ¤νΈλ μ¤ ν…μ¤νΈ**
- [ ] **λ„¤νΈμ›ν¬ μ§€μ—° λ° ν¨ν‚· μ†μ‹¤ ν…μ¤νΈ**

### **3. μ‚¬μ©μ μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ**
- [ ] **λ΅λ΄‡ μ›κ²© μ΅°μ‘ μ‹λ‚λ¦¬μ¤**
- [ ] **μ‹¤μ‹κ°„ ν™κ²½ λ¨λ‹ν„°λ§**
- [ ] **μ¥μ• λ¬Ό νν”Ό λ° κ²½λ΅ κ³„ν**
- [ ] **λ‹¤μ¤‘ ν΄λΌμ΄μ–ΈνΈ λ™μ‹ μ ‘μ†**

---

## π“ **μμƒ κ²°κ³Όλ¬Ό**

### **κµ¬ν„ κ²°κ³Όλ¬Ό**
1. **μ„Όμ„ ν†µν•© MCP ν•Έλ“¤λ¬**: `mcp/sensor_handler.py`
2. **μΉ΄λ©”λΌ μ„Όμ„ λ¨λ“**: `sensors/camera_sensor.py`
3. **LiDAR μ„Όμ„ λ¨λ“**: `sensors/lidar_sensor.py`
4. **μ„Όμ„ λ°μ΄ν„° ν΄λΌμ΄μ–ΈνΈ**: `examples/sensor_data_client.py`
5. **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“**: `dashboard/sensor_monitor.html`

### **μ„±λ¥ λ©ν‘**
- **μΉ΄λ©”λΌ μ¤νΈλ¦¬λ°**: 30 FPS @ 1280x720 ν•΄μƒλ„
- **LiDAR λ°μ΄ν„°**: 10 Hz μ—…λ°μ΄νΈ, 100K+ ν¬μΈνΈ μ²λ¦¬
- **μ „μ†΅ μ§€μ—°**: < 100ms μ—”λ“-ν¬-μ—”λ“ μ§€μ—°
- **λ™μ‹ μ—°κ²°**: 10κ° ν΄λΌμ΄μ–ΈνΈ μ•μ •μ  μ§€μ›
- **λ©”λ¨λ¦¬ μ‚¬μ©**: < 2GB μƒμ£Ό λ©”λ¨λ¦¬

---

## π€ **μ‹¤ν–‰ κ³„ν μ”μ•½**

### **μ°μ„ μμ„ 1: μΉ΄λ©”λΌ μ„Όμ„ (1μ£Ό)**
1. RGB μΉ΄λ©”λΌ κΈ°λ³Έ κµ¬ν„
2. μ΄λ―Έμ§€ μ••μ¶• λ° WebSocket μ „μ†΅
3. μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ° μµμ ν™”
4. κΈ°λ³Έ ν΄λΌμ΄μ–ΈνΈ λ·°μ–΄ κµ¬ν„

### **μ°μ„ μμ„ 2: LiDAR μ„Όμ„ (1μ£Ό)**
1. RTX LiDAR ν†µν•©
2. Point Cloud λ°μ΄ν„° μ²λ¦¬
3. 3D μ‹κ°ν™” ν΄λΌμ΄μ–ΈνΈ
4. μ„Όμ„ μµν•© κΈ°μ΄ κµ¬ν„

### **μ°μ„ μμ„ 3: κ³ κΈ‰ κΈ°λ¥ (1μ£Ό)**
1. IMU μ„Όμ„ μ¶”κ°€
2. λ‹¤μ¤‘ μ„Όμ„ λ™κΈ°ν™”
3. μ‹¤μ‹κ°„ λ¶„μ„ λ€μ‹λ³΄λ“
4. μΆ…ν•© ν…μ¤νΈ λ° μµμ ν™”

---

> **π― λ©ν‘**: Isaac Sim 5.0μ κ°•λ ¥ν• μ„Όμ„ κΈ°λ¥μ„ MCP ν”„λ΅ν† μ½λ΅ μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°ν•μ—¬, μ›κ²©μ—μ„λ„ λ΅λ΄‡μ "λκ³Ό κ·€"λ¥Ό μ™„μ „ν ν™μ©ν•  μ μλ” μ‹μ¤ν… κµ¬μ¶•

**λ‹¤μ λ‹¨κ³„**: μΉ΄λ©”λΌ μ„Όμ„ ν†µν•©λ¶€ν„° μ‹μ‘ν•μ—¬ λ‹¨κ³„μ μΌλ΅ μ„Όμ„ λ°μ΄ν„° ν†µν•© μ™„μ„±!